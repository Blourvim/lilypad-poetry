<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Lillypad Poetry</title>
    <link rel="stylesheet"  href="style.css">
</head>

<body>
  <p id="text">
Though, consumed with the hot fire of his purpose, Ahab in all his thoughts and actions ever had in view the ultimate capture of Moby Dick; though he seemed ready to sacrifice all mortal interests to that one passion; nevertheless it may have been that he was by nature and long habituation far too wedded to a fiery whalemanâ€™s ways, altogether to abandon the collateral prosecution of the voyage. Or at least if this were otherwise, there were not wanting other motives much more influential with him. It would be refining too much, perhaps, even considering his monomania, to hint that his vindictiveness towards the White Whale might have possibly extended itself in some degree to all sperm whales, and that the more monsters he slew by so much the more he multiplied the chances that each subsequently encountered whale would prove to be the hated one he hunted. But if such an hypothesis be indeed exceptionable, there were still additional considerations which, though not so strictly according with the wildness of his ruling passion, yet were by no means incapable of swaying him. 

  </p>

  <div class="controls">
    <button id="blackout">Blackout Remaining Words</button>
    <button id="unblackout">Reset Words</button>
  </div>

  <div class="pond-container">
    <div class="lillypad lillypad-1"></div>
    <div class="lillypad lillypad-2"></div>
    <div class="lillypad lillypad-3"></div>
    <div class="lillypad lillypad-4"></div>
    <div class="lillypad lillypad-5"></div>
    <div class="lillypad lillypad-6"></div>
    <div class="overlay"></div>
  </div>
  <script>
    const textElement = document.getElementById('text');

    const paragraphs = textElement.innerText.split('\n');
    textElement.innerHTML = paragraphs.map(p => {
      const words = p.split(/\s+/);
      return words.map(word => `<span class="word">${word}</span>`).join(' ') + '<br>';
    }).join('');

    textElement.addEventListener('click', (e) => {
      if (e.target.classList.contains('word')) {
        e.target.classList.toggle('selected');
        e.target.classList.remove('blacked-out');
      }
    });

    document.getElementById('blackout').addEventListener('click', () => {
      document.querySelectorAll('.word').forEach(word => {
        if (!word.classList.contains('selected')) {
          word.classList.add('blacked-out');
        }
      });
    });

    // Unblackout / Reset words
    document.getElementById('unblackout').addEventListener('click', () => {
      document.querySelectorAll('.word').forEach(word => {
        word.classList.remove('blacked-out', 'selected');
      });
    });

  </script>

</body>

</html>
